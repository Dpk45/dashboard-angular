<product-nav></product-nav>

<div class="container">
    <form>
        <div class = "form-group">
          <div class = "input-group">
            <div class = "input-group-addon">
              <i class="fa fa-search">

              </i>
            </div>
            <input type="text" name="search" placeholder="filter" class="form-control" [(ngModel)]="filter">
          </div>
        </div>
    </form>

  <div class="table-responsive">
    <table class="table table-hover" style="width:100%">
      <thead>
        <tr>
          <th class="pointer" (click)="sort('id')">
            <i class="fa" [ngClass]="{'fa-sort': column != 'id',
            'fa-sort-asc': (column == 'id' && !isDesc),
            'fa-sort-desc': (column == 'id' && isDesc) }" aria-hidden="true"></i>ID</th>
          <th class="pointer" (click)="sort('name')">
            <i class="fa" [ngClass]="{'fa-sort': column != 'name',
            'fa-sort-asc': (column == 'name' && !isDesc),
            'fa-sort-desc': (column == 'name' && isDesc) }" aria-hidden="true"></i>Name</th>
          <th>Optical?</th>
          <th class="pointer" (click)="sort('optical_template')">
            <i class="fa" [ngClass]="{'fa-sort': column != 'optical_template',
            'fa-sort-asc': (column == 'optical_template' && !isDesc),
            'fa-sort-desc': (column == 'optical_template' && isDesc) }" aria-hidden="true"></i>Optical Template</th>
          <th>Sun?</th>
          <th class="pointer" (click)="sort('sun_template')">
            <i class="fa" [ngClass]="{'fa-sort': column != 'sun_template',
            'fa-sort-asc': (column == 'sun_template' && !isDesc),
            'fa-sort-desc': (column == 'sun_template' && isDesc) }" aria-hidden="true"></i>Sun Template</th>
            <th>Active</th>
              <th>Action</th>
        </tr>
      </thead>
      <tbody>
          <tr>
            <td class="col-md-1">
              <input type="text" placeholder="New" name="t_id" class="form-control" [(ngModel)]="t_id" disabled=d isabled required>
            </td>
            <td class="col-md-3">
              <input type="text" name="template_name" class="form-control" [(ngModel)]="template_name" required>
            </td>
            <td>
                <input  name=optical [(ngModel)]="optical" type="checkbox">
            </td>
            <td class="col-md-3">
              <input type="text" name="optical_template" class="form-control" [(ngModel)]="optical_template" required>
            </td>
            <td>
            <input  name=generate_sun [(ngModel)]="generate_sun" type="checkbox"/>
            </td>
            <td class="col-md-3">
              <input type="text" name="sun_template" class="form-control" [(ngModel)]="sun_template" required>
            </td>
            <td class="col-md-3">
              <select name="template_active" class="form-control" [(ngModel)]="template_active">
                <option [ngValue]="1">Active</option>
                <option [ngValue]="0">InActive</option>
              </select>
            </td>
            <td>
              <input type="submit" class="form-control" (click)="createTemplateMap(template_name, optical, optical_template, generate_sun, sun_template, template_active)" value="Add">
            </td>
          </tr>

        <tr *ngFor="let t of templateData | filter:filter | orderBy: {property: column, direction: direction}">

          <td class="col-md-1">
            <input type="text" placeholder="New" name="updated_id" class="form-control" [(ngModel)]="t['id']" disabled = disabled required>
          </td>
          <td class="col-md-3">
            <input type="text" name="updated_name" class="form-control" [(ngModel)]="t['name']" required>
          </td>
          <td>
              <input  name=updated_optical [(ngModel)]="t['generate_optical']" type="checkbox">
          </td>
          <td class="col-md-3">
            <input type="text" name="updated_optical_template" class="form-control" [(ngModel)]="t['optical_template']" required>
          </td>
          <td>
          <input  name=updated_generate_sun [(ngModel)]="t['generate_sun']" type="checkbox"/>
          </td>
          <td class="col-md-3">
            <input type="text" name="updated_sun_template" class="form-control" [(ngModel)]="t['sun_template']" required>
          </td>
          <td class="col-md-3">
            <select name="updated_template_active" class="form-control" [(ngModel)]="t['active_flag']">
              <option [ngValue]="1">Active</option>
              <option [ngValue]="0">InActive</option>
            </select>
          </td>
          <td class="myTab1">
            <input type="submit" class="form-control" (click)="updateTemplateMap(t['id'], t['name'], t['generate_optical'], t['optical_template'], t['generate_sun'], t['sun_template'], t['active_flag'])" value="Update">
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
